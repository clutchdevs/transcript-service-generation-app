<div class="h-screen bg-gray-50 flex flex-col">
  <!-- Header Component -->
  <app-header
    [user]="user()"
    [config]="{
      appTitle: 'TranscriptAI',
      showUserMenu: true,
      showMobileMenu: true
    }"
    [mobileMenuOpen]="mobileMenuOpen()"
    (logout)="logout()"
    (mobileMenuToggle)="onMobileMenuToggle()"
    (userMenuToggle)="onUserMenuToggle()"
  />

  <!-- Main Content -->
  <div class="relative flex flex-1 overflow-hidden">
    <!-- Sidenav Component -->
    <app-sidenav
      [items]="sidenavItems"
      [activeItemId]="activeItemId"
      [collapsed]="sidenavCollapsed()"
      [mobileOpen]="mobileMenuOpen()"
      (itemClick)="onSidenavItemClick($event)"
      (toggleCollapse)="onSidenavToggleCollapse($event)"
      (mobileMenuClose)="onMobileMenuClose()"
    />

    <!-- Content overlay (mobile only, covers content area under header) -->
    @if (mobileMenuOpen()) {
      <div
        class="absolute inset-0 bg-black/50 z-30 lg:hidden"
        (click)="onMobileMenuClose()"
      ></div>
    }

    <!-- Main Content Area -->
    <main class="flex-1 p-8"
          [class.overflow-y-auto]="!mobileMenuOpen()"
          [class.overflow-hidden]="mobileMenuOpen()">
      <router-outlet />
    </main>
  </div>
</div>
