<nav
  class="bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out"
  [class]="getSidenavClasses()"
  [class.mobile-open]="mobileOpen$()"
  [class.fixed]="mobileOpen$()"
  [class.inset-y-0]="mobileOpen$()"
  [class.left-0]="mobileOpen$()"
  [class.z-40]="mobileOpen$()"
>
    <!-- Header with title and toggle button -->
    <app-sidenav-header
      [collapsed]="isCollapsedInCurrentView()"
      title="MenÃº"
      (toggleCollapse)="onToggleCollapse()"
    ></app-sidenav-header>

  <!-- Navigation Items -->
  <div class="flex-1 py-4"
       [class.overflow-y-auto]="!isCollapsedInCurrentView()"
       [class.overflow-hidden]="isCollapsedInCurrentView()">
    <nav class="space-y-1 px-3">
      @for (item of navigationItems(); track item.id) {
        <app-sidenav-item
          [item]="item"
          [collapsed]="isCollapsedInCurrentView()"
          [active]="isActive(item)"
          (itemClick)="onItemClick($event)"
        ></app-sidenav-item>
      }
    </nav>
  </div>


</nav>

<!-- Mobile overlay -->
@if (mobileOpen$()) {
  <div
    class="fixed inset-0 bg-gray-600 bg-opacity-75 z-30 lg:hidden"
    (click)="closeMobileMenu()"
  ></div>
}
