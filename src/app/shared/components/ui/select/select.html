<div class="space-y-1">
  <!-- Label -->
  @if (label) {
    <label [for]="selectId" class="block text-sm font-medium text-gray-700">
      {{ label }}
      @if (required) {
        <span class="text-red-500">*</span>
      }
    </label>
  }

  <!-- Select Container -->
  <div class="relative z-0">
    <!-- Select Field -->
    <select
      [id]="selectId"
      [disabled]="disabled"
      [value]="valueSignal()"
      [attr.aria-invalid]="hasError"
      [attr.aria-describedby]="ariaDescribedBy"
      (change)="onSelectionChange($event)"
      (blur)="onBlur()"
      [class]="selectClasses"
    >
      @if (showEmptyOption || placeholder) {
        <option value="" [disabled]="required">
          {{ placeholder || emptyOptionLabel }}
        </option>
      }
      @for (option of options; track option.value) {
        <option [value]="option.value">{{ option.label }}</option>
      }
    </select>

    <!-- Custom dropdown arrow -->
    <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none z-20">
      <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
  </div>

  <!-- Error Message -->
  @if (error && touched()) {
    <p [id]="errorId" class="text-sm text-red-600" role="alert">{{ error }}</p>
  }
</div>

