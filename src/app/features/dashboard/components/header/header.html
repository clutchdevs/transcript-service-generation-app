<header class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">

      <!-- Left side: Logo and Mobile Menu Button -->
      <div class="flex items-center">
        <!-- Mobile menu button -->
        @if (config.showMobileMenu) {
          <button
            (click)="onMobileMenuToggle()"
            type="button"
            class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden"
            aria-controls="mobile-menu"
            [attr.aria-expanded]="isMobileMenuOpen$()"
          >
            <span class="sr-only">Abrir menú principal</span>
            <!-- Icon when menu is closed -->
            @if (!isMobileMenuOpen$()) {
              <svg
                class="block h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                aria-hidden="true"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            }
            <!-- Icon when menu is open -->
            @if (isMobileMenuOpen$()) {
              <svg
                class="block h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                aria-hidden="true"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            }
          </button>
        }

        <!-- Logo/App Name -->
        <div class="ml-4 lg:ml-0">
          <app-logo [appTitle]="config.appTitle || 'TranscriptAI'" size="md"></app-logo>
        </div>
      </div>

      <!-- Right side: User Menu and Actions -->
      <div class="flex items-center space-x-4">
        <!-- User Menu -->
        @if (config.showUserMenu && user) {
          <app-user-menu
            [user]="user"
            [isOpen]="isUserMenuOpen$()"
            (logout)="onLogout()"
            (menuToggle)="onUserMenuToggle()"
            (profileClick)="onProfileClick()"
            (settingsClick)="onSettingsClick()"
          ></app-user-menu>
        }

        <!-- Logout Button (mobile fallback) -->
        @if (!config.showUserMenu || !user) {
          <app-button
            variant="danger"
            size="sm"
            icon="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
            iconPosition="left"
            (clicked)="onLogout()"
          >
            <span class="hidden sm:inline">Cerrar sesión</span>
          </app-button>
        }
      </div>
    </div>
  </div>


</header>
